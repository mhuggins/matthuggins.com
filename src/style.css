@import "tailwindcss";
@plugin "@tailwindcss/typography";
@source '**/*.{js,jsx,ts,tsx}';

@theme {
  --color-primary: #358799;
  --color-primary-light: #42a8c0;
  --color-primary-dark: #2d7788;
  --color-primary-darker: #1a454f;
  --color-muted: #97aac3;
  --color-secondary-foreground: #545e6c;
}

/* Shiki Code Highlighting */
pre {
  @apply rounded-lg border border-gray-200 text-sm !bg-white relative overflow-hidden;
  padding: 0;
}

pre > code {
  @apply block overflow-x-auto;
  padding: 1rem;
}

/* Code block header styling */
.code-block-header {
  @apply absolute top-2 right-2 flex items-center gap-2 bg-gray-50 px-2 py-1 rounded border border-gray-200 z-10 transition-all duration-300 opacity-0;
}

/* Copy button styling */
.copy-code-btn {
  @apply cursor-pointer border-none bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-500/50 rounded;
  transition: all 0.2s ease-in-out;
  width: 16px;
  height: 16px;
  background-color: #9ca3af; /* gray-400 */
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='9' y='9' width='13' height='13' rx='2' ry='2'/%3E%3Cpath d='M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1'/%3E%3C/svg%3E");
  mask-size: contain;
  mask-repeat: no-repeat;
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='9' y='9' width='13' height='13' rx='2' ry='2'/%3E%3Cpath d='M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1'/%3E%3C/svg%3E");
  -webkit-mask-size: contain;
  -webkit-mask-repeat: no-repeat;
}

/* Show copy button on hover of the pre element */
pre:hover .code-block-header {
  @apply opacity-100;
}

.copy-code-btn:hover {
  @apply scale-110 bg-gray-600;
}

.copy-code-btn:active {
  @apply scale-95;
}

/* Success state after copying */
.copy-code-btn.copied {
  background-color: #22c55e; /* green-500 */
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpolyline points='20,6 9,17 4,12'/%3E%3C/svg%3E");
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpolyline points='20,6 9,17 4,12'/%3E%3C/svg%3E");
}

/* Inline code styling */
:not(pre) > code {
  @apply rounded bg-gray-100 px-1.5 py-0.5 text-sm font-mono;
}

/* Override Tailwind Typography prose styles for inline code */
.prose :where(code):not(:where([class~="not-prose"], [class~="not-prose"] *))::before,
.prose :where(code):not(:where([class~="not-prose"], [class~="not-prose"] *))::after {
  content: none;
}

/* Inherit font-size for inline code in headings */
.prose :where(h1, h2, h3, h4, h5, h6)
  :where(code):not(:where([class~="not-prose"], [class~="not-prose"] *)) {
  font-size: inherit;
}
